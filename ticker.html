<!DOCTYPE html>

<html lang="de">

<head>
    <meta charset="UTF-8"/>
    <title>Ticker View</title>

    <link href="ticker.css" rel="stylesheet"/>
</head>

<body>
<div id="text-container">
    <div id="text"></div>
</div>

<script>
    const textContainer = document.getElementById('text-container');
    const textElement = document.getElementById('text');

    function updateAnimation() {
        const containerWidth = textContainer.offsetWidth;
        const textWidth = textElement.scrollWidth;

        const distance = textWidth + containerWidth;
        const speedPxPerSec = 100;
        const duration = distance / speedPxPerSec;

        textElement.style.animationDuration = `${duration}s`;
    }

    window.api?.onUpdateTickerText((text) => {
        textElement.textContent = text;
        requestAnimationFrame(updateAnimation);

    });
    window.api?.onUpdateTickerColor((color) => {
        textElement.style.color = color;
    });
    window.api?.onUpdateTickerBackgroundColor((color) => {
        document.body.style.backgroundColor = color;
    });
</script>
</body>

</html>